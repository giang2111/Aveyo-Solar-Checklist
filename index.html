<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AVEYO Solar Checklist</title>
    <link rel="icon" href="aveyologo.png" type="image/x-icon">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lexend:wght@400;600&display=swap">
    <style>
        body {
            font-family: 'Lexend', Arial, sans-serif;
            margin: 20px;
            transition: background-color 0.3s, color 0.3s;
        }
        .checklist, .fixed-checklist {
            background-color: #ffffe0;
            border-top: 2px solid #000;
            padding-top: 10px;
            margin-top: 20px;
        }
        .checklist-item {
            margin-bottom: 10px;
            list-style-type: none;
            padding-left: 0;
            cursor: pointer;
        }
        .sub-items {
            padding-left: 20px;
            margin-top: 5px;
            display: none;
        }
        .sub-item {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
        .sub-item input[type="checkbox"] {
            margin-right: 10px;
            appearance: none;
            width: 12px;
            height: 12px;
            border: 2px solid #000;
            border-radius: 50%;
            position: relative;
            vertical-align: middle;
        }
        .sub-item input[type="checkbox"]:checked::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 6px;
            height: 6px;
            background-color: #000;
            border-radius: 50%;
            transform: translate(-50%, -50%);
        }
        .preferences-box {
            background-color: #ffffe0;
            padding: 20px;
            border-radius: 5px;
            margin-top: 20px;
            border-top: 2px solid #000;
        }
        .preferences {
            border-top: 2px solid #000;
            padding-top: 10px;
            margin-top: 20px;
        }
        .preferences ul {
            padding-left: 20px;
            margin: 0;
        }
        .preferences li {
            line-height: 2em;
            margin-bottom: 5px;
            list-style-type: disc;
        }
        .preferences li ul {
            margin-top: 5px;
            padding-left: 20px;
        }

        .light-mode {
            background-color: #ffffff;
            color: #000000;
        }
        .light-mode .checklist, .light-mode .fixed-checklist, .light-mode .preferences {
            border-color: #000000;
        }

        .dark-mode {
            background-color: #1e1e1e;
            color: #e0e0e0;
        }
        .dark-mode .checklist, .dark-mode .fixed-checklist, .dark-mode .preferences {
            border-color: #e0e0e0;
        }
        .dark-mode .checklist, .dark-mode .fixed-checklist, .dark-mode .preferences-box {
            background-color: transparent;
        }
        .dark-mode .sub-item input[type="checkbox"] {
            border-color: #e0e0e0;
        }
        .dark-mode .sub-item input[type="checkbox"]:checked::before {
            background-color: #e0e0e0;
        }

        .logo-container {
            display: flex;
            align-items: center;
        }
        .logo-container img {
            height: 40px;
            margin-right: 10px;
        }
        .preferences-logo {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }
        .preferences-logo img {
            height: 30px;
            margin-right: 10px;
        }
    </style>
</head>
<body class="light-mode">

<div>
    <button id="toggle-theme">Toggle Dark Mode</button>
</div>

<div class="fixed-checklist">
    <div class="logo-container">
        <img src="aveyologo.png" alt="AVEYO Logo">
        <h3>AVEYO Solar Checklist:</h3>
    </div>
    <ul id="fixed-checklist-list"></ul>
</div>

<div class="preferences-box">
    <div class="preferences-logo">
        <img src="aveyologo.png" alt="AVEYO Logo">
        <h3>AVEYO Design Preferences:</h3>
    </div>
    <div class="preferences">
        <ul>
            <li>Review SS while doing the design.</li>
            <li>If we are missing SS photos, reach out to Tayler to see if we can avoid a Truck Roll.</li>
            <li>Open Scanifly and match placement of panels with sold design. Download DWG.</li>
            <li>Open AHJ database to ensure we are designing plans to all specific requirements.</li>
            <li>Design in AutoCAD and Fill out Excel information with all customer information.</li>
            <li>Send to Tayler for QA he will then request for Stamps if plans look accurate.</li>
            <li>Automatic Upgrades:
                <ul id="automatic-upgrades-list"></ul>
            </li>
        </ul>
    </div>
</div>

<script>
    const itemTexts = {
        "COVER SHEET ▽": ["Correct Homeowner Name",
                         "Correct Utility",
                         "Correct AHJ",
                         "Correct Homeowner Address",
                         "Correct Codes and Standards",
                         "Correct Electrical Equipment",
                         "Correct Racking Information",
                        ],
        "SITE PLAN ▽": ["Prioritize Portrait Orientation",
                      "PV Array matches DXF file",
                      "Driveway and Fence Shown (If Applicable)",
                      "Correct Fire Setbacks Shown",
                      "Frontage Road Shown",
                      "Property Line Dimensioned",
                      "Legend Accurate",
                      "Junction Box Shown",
                      "Mounting Plane Shown",
                      "Correct Array Details",
                      "Correct Equipment Location",
                      ],
        "ROOF PLAN ▽": ["Verify Equipment Information", 
                      "Accurate Equipment Quantities",
                      "Correct Roof Info",
                      "Attachment Legend Shown",
                      "Setbacks and Attachment spacing Dimensioned",
                    ],
        "MOUNTING DETAIL ▽": ["Verify the correct DWG matches the called out attachment"],
        "LINE DIAGRAM ▽": ["Correct dropdown for stringing selected",
                            "Correct number of modules per string",
                            "Tag number corresponds with the correct tags in Conductor details",
                            "Accurate number of wires in the line diagram and conductor details",
                            "All new equipment shown in Equipment Schedule",
                            "Correct Main Panel type and ratings",
                            "Correct AC disconnect type and rating used",
                            "Correct meter number",
                            "Correct OCPD size",
                        ],
        "ELECTRICAL CALCULATIONS ▽": ["Verify all calculations populated correctly", 
                            "All wire sizes populated correctly",
                            "Correct Ambient Temp shown",
                            "Correct module and inverter shown",
                            
                        ],
        "LABELS ▽": ["Select correct code years", 
                            
                        ],
        "PLACARD ▽": ["Verify correct leaders shown", 
                            
                        ],
        "PHOTOS ▽": ["Correct photos shown",
                            "Electrical Photos",
                            "Structural Photos",
                        ],
                 "Electrical Photos": ["Close-up meter number",
                                  "Meter location",
                                  "Main Service Panel (Deadfront on/off)",
                                  "Close-up Main breaker",
                                  "Main Panel Labels"
                        ],
                 "Structural Photos": ["Attic Photos",
                                  "Rafter size with dimension",
                                  "Rafter spacing with dimension",
                        ],
        "SPEC SHEETS AND ADDITIONAL DOCUMENTS ▽": ["Module Specsheets", 
                      "Inverter Specsheets", 
                      "Railing Specsheets", 
                      "Attachment Specsheets", 
                            
                        ],
    };

    function updateChecklist() {
        const fixedChecklist = document.getElementById('fixed-checklist-list');
        const fixedItems = ['COVER SHEET ▽',
                             'SITE PLAN ▽', 
                             'ROOF PLAN ▽', 
                             'MOUNTING DETAIL ▽',
                             'LINE DIAGRAM ▽',
                             'ELECTRICAL CALCULATIONS ▽',
                             'LABELS ▽',
                             'PLACARD ▽',
                             'PHOTOS ▽',
                             'SPEC SHEETS AND ADDITIONAL DOCUMENTS ▽',
                            ];

        fixedChecklist.innerHTML = '';

        fixedItems.forEach(itemText => {
            const itemElement = document.createElement('li');
            itemElement.className = 'checklist-item';
            itemElement.textContent = itemText;

            const subItemsContainer = document.createElement('div');
            subItemsContainer.className = 'sub-items';

            itemTexts[itemText].forEach(text => {
                if (itemTexts[text]) {
                    const nestedContainer = document.createElement('div');
                    nestedContainer.style.paddingLeft = '20px';
                    itemTexts[text].forEach(nestedText => {
                        const nestedTextElement = document.createElement('div');
                        nestedTextElement.className = 'sub-item';
                        nestedTextElement.innerHTML = `
                            <label>
                                <input type="checkbox"> ${nestedText}
                            </label>
                        `;
                        nestedContainer.appendChild(nestedTextElement);
                    });
                    const additionalTextElement = document.createElement('div');
                    additionalTextElement.className = 'sub-item';
                    additionalTextElement.textContent = text;
                    subItemsContainer.appendChild(additionalTextElement);
                    subItemsContainer.appendChild(nestedContainer);
                } else {
                    const additionalTextElement = document.createElement('div');
                    additionalTextElement.className = 'sub-item';
                    additionalTextElement.innerHTML = `
                        <label>
                            <input type="checkbox"> ${text}
                        </label>
                    `;
                    subItemsContainer.appendChild(additionalTextElement);
                }
            });

            itemElement.appendChild(subItemsContainer);
            fixedChecklist.appendChild(itemElement);

            itemElement.addEventListener('click', (event) => {
                if (!event.target.closest('.sub-item')) {
                    const subItems = itemElement.querySelector('.sub-items');
                    subItems.style.display = subItems.style.display === 'none' ? 'block' : 'none';
                }
            });
        });
    }

    function updatePreferences() {
        const upgradesList = document.getElementById('automatic-upgrades-list');
        const upgrades = ['Federal Pacific', 'Zinsco', 'Pushmatic', 'Pancake Meter'];

        upgradesList.innerHTML = '';
        upgrades.forEach(upgrade => {
            const listItem = document.createElement('li');
            listItem.textContent = upgrade;
            upgradesList.appendChild(listItem);
        });
    }

    updateChecklist();
    updatePreferences();

    document.getElementById('toggle-theme').addEventListener('click', () => {
        document.body.classList.toggle('dark-mode');
        document.body.classList.toggle('light-mode');
    });
</script>

</body>
</html>
